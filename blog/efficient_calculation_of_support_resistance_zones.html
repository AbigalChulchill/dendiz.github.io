<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Deniz's personal pages</title>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1">
        <script src="/js/vendor/es5-shim.min.js"></script>
        <script src="/js/vendor/marked.min.js"></script>
        <!--script src="/js/vendor/purify.min.js"></script-->
        <script src="/js/vendor/ansi_up.min.js"></script>
        <script src="/js/vendor/prism.min.js"></script>
        <script src="/js/vendor/katex.min.js"></script>
        <script src="/js/vendor/katex-auto-render.min.js"></script>
	<script src="/js/vendor/notebook.js?_=2021-09-11 19:50:34"></script>
        <link rel="stylesheet" href="/css/vendor/katex.min.css" />
        <link rel="stylesheet" href="/css/vendor/prism.css" />
	<link rel="stylesheet" href="/css/notebook.css?2021-09-11 19:50:34" />
	<link rel="stylesheet" href="/css/nbpreview.css?2021-09-11 19:50:34" />
  <link href="https://fonts.googleapis.com/css?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;0,900;1,300;1,400;1,500;1,700;1,900|Roboto+Mono:300,300i,400,400i,500,500i,700,700i&amp;display=swap" rel="stylesheet">
        <script type="application/text" id="source">
          {"cells": [{"cell_type": "markdown", "metadata": {}, "source": ["# calculation of support/resistance zones\n", "", "2019-07-23t00:00:00-07:00 [#fintech](/tag/fintech.html) [#programming](/tag/programming.html)\n"]}, {"cell_type": "markdown", "metadata": {"tags": ["fintech", "programming"]}, "source": ["\n", "support/resistance zones are quite essential when trading breakouts. Support is \n", "a line below the price on the charts that the price bounced back from a couple \n", "of times. Resistance is the same, but above the price. When a human looks at a \n", "chart, it\u2019s pretty easy for them to see these points on the chart:\n", "\n", "![](/img/ecosrz1.png)\n", "\n", "the shaded are is a support/resistance zone, as the price tries multiple times \n", "to go past that point and succeeds with that long green candle. How to get the \n", "computer to recognize these points it an interesting exercise in programming. \n", "The logic is this:\n", "\n", "1. gather all open, high, low close prices in an array and sort them.\n", "2. define a parameter, called epsilon that will be the sensitivity for the zone. \n", "3. start from the first price and group all prices less than epsilon away from this in a list.\n", "4. remove the added prices from the original array and continue group the remaining prices.\n", "\n", "in the end you will have a list of lists. The more items in the list, the \n", "stronger the support/resistance around that area.\n", "\n", "The worst case running time for the above algorithm is n^2 if all the prices are \n", "more than epsilon away from each other, which is not very good. So we need to \n", "improve on that. \n", "\n", "We can build the groups as we are iterating the original array like this:\n", "\n", "1. maintain a list of groups, initialized with a single group containing the first price. \n", "2. as we are iterating over the array, if the current element is less than epsilon away from the head \n", "of the group we add it to that group. Otherwise we create a new group and add it into that group.\n", "\n", "```\n", "Collections.sort(data);\n", "\n", "        SuperList<SuperList<Double>> groups = new SuperList<>();\n", "        groups.add(new SuperList<>());\n", "        groups.get(0).add(data.get(0));\n", "        for (int i = 1; i < data.size(); i++) {\n", "            SuperList<Double> group = groups.getLast();\n", "            Double x = data.get(i);\n", "            if (Math.abs(x - group.get(0)) < epsilon) {\n", "                group.add(x);\n", "            } else {\n", "                SuperList<Double> newList = new SuperList<>();\n", "                newList.add(x);\n", "                groups.add(newList);\n", "            }\n", "        }\n", "```\n", "\n", "I finally had the chance to plot the results of this, so I updated the post:\n", "\n", "![](/img/ecosrz2.png)\n", "\n", "The red zones are the resistance which is all tuples with price above the last \n", "close price and the green zones are the support zones.\n"]}], "metadata": {"celltoolbar": "Tags", "kernelspec": {"display_name": "Python 3", "language": "python", "name": "python3"}, "language_info": {"codemirror_mode": {"name": "ipython", "version": 3}, "file_extension": ".py", "mimetype": "text/x-python", "name": "python", "nbconvert_exporter": "python", "pygments_lexer": "ipython3", "version": "3.6.12"}}, "nbformat": 4, "nbformat_minor": 4}
        </script>
    </head>
    <body>
        <div id="main">
            <div class="header">
            <div style="position: absolute; left:10px; top:5px;">
              <a href="/blog/about.html?2021-09-11 19:50:34">about</a>
              <a href="/micro/micro.html?2021-09-11 19:50:34">micro</a>
              <a href="/blogindex.html?2021-09-11 19:50:34">macro</a>
            </div>
            <h1>Deniz's Weblog</h1>
            <p style="font-family: monospace;">
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
            </p>
            </div>
            <div id="notebook-holder"></div>
            <hr/>
            <div>
              <em>Generated on 2021-09-11 19:50:34</em>
            </div>
            <p>
              Questions or comments? Please take the time to compose an email and send it to <a href="mailto:deniz.dizman@gmail.com?subject=Question/Comment">me</a>.
              I will update the relevant page with our correspondence.
            </p>
        </div>
        <script>
          var src = document.getElementById("source");
          var notebook = nb.parse(JSON.parse(src.innerText));
          var rendered = notebook.render();
          document.getElementById("notebook-holder").appendChild(rendered);
        </script>
    </body>
</html>
