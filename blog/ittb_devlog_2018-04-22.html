<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Deniz's personal pages</title>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1">
        <script src="/js/vendor/es5-shim.min.js"></script>
        <script src="/js/vendor/marked.min.js"></script>
        <!--script src="/js/vendor/purify.min.js"></script-->
        <script src="/js/vendor/ansi_up.min.js"></script>
        <script src="/js/vendor/prism.min.js"></script>
        <script src="/js/vendor/katex.min.js"></script>
        <script src="/js/vendor/katex-auto-render.min.js"></script>
	<script src="/js/vendor/notebook.js?_=2021-08-22 15:16:15"></script>
        <link rel="stylesheet" href="/css/vendor/katex.min.css" />
        <link rel="stylesheet" href="/css/vendor/prism.css" />
	<link rel="stylesheet" href="/css/notebook.css?2021-08-22 15:16:15" />
	<link rel="stylesheet" href="/css/nbpreview.css?2021-08-22 15:16:15" />
  <link href="https://fonts.googleapis.com/css?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;0,900;1,300;1,400;1,500;1,700;1,900|Roboto+Mono:300,300i,400,400i,500,500i,700,700i&amp;display=swap" rel="stylesheet">
        <script type="application/text" id="source">
          {"cells": [{"cell_type": "markdown", "metadata": {}, "source": ["# ittb devlog 2018-04-22\n", "", "2018-04-22 [#ittb](/tag/ittb.html) [#devlog](/tag/devlog.html)\n"]}, {"cell_type": "markdown", "metadata": {"tags": ["ittb", "devlog"]}, "source": ["## summary\n", "\n", "- AI, \n", "- support units \n", "- weapons\n", "- targeting arcs\n", "\n", "I thought about different AI enemy types today. Currently the damage, and the\n", "health/armor for the AI was being set within an interval appropriate with the\n", "current level, but this doesn\u2019t really give the sense that you are fighting\n", "against different enemies. The AI also tries to compensate for the static\n", "nature by introducing some non-determinism into target selection but still not\n", "enough. What I need is to have different types of units. E.g a unit that stuns\n", "the enemy, like the half snake monsters from XCOM2. Or support units that boost\n", "the health of the all the enemies in the level unless it\u2019s destroyed. These\n", "types of units will need their own AI implementations. E.g a support unit won\u2019t\n", "go around chasing enemies, it will try to stay as far away from the player as\n", "it can and evade the player. So to facilitate this, I moved the AI into the\n", "enemy base class and a portion of it (target selection/movement) to the current\n", "type of enemy. (called type A, because I haven\u2019t yet thought about names or a\n", "story line etc.). This turned to be a bit tedious with subtle variable\n", "shadowing bugs creeping in an took a good portion of my day. \n", "\n", "This also lead the way for letting the enemies use the same types of weapons\n", "the player was using, for the time being which means that the enemies will soon\n", "get ranged weapons. This actually has an implication on the user interface, the\n", "player should be able to see which enemy has a ranged weapon and the area that\n", "it covers. Maybe if this were a PC game a mouse-over the enemy would reveal\n", "it\u2019s range and coverage but this doesn\u2019t work when you are targeting handheld\n", "devices.  I also don\u2019t want to complicate the selection states further by\n", "revealing this information when a player is not selected and an enemy is\n", "selected etc. So the idea I came up with is to display the ranged attack arc of\n", "the enemy when the player selects his own unit and that unit can actually move,\n", "as it only matters when moving. This refactoring lead me to the decision to\n", "also move the targeting code from the player and enemy classes into the weapon\n", "classes themselves, using the wielder information for target selection (you\n", "don\u2019t want to shoot at friendlies). Coming from a server-side programming\n", "background I am used to using lists, arrays etc to use composition in objects,\n", "but with the scene tree there, it actually makes more sense to use a node in\n", "the scene tree to hold stuff like weapons, as you get the holder of that item\n", "from the scene tree way more easier.  Otherwise you have to pass around the\n", "reference of the parent etc. This model of programming should also find it\u2019s\n", "way into other domains. You should be able to freely traverse the object graph. \n", "\n", "I was also thinking that all player units would carry a ranged weapon but this\n", "doesn\u2019t seem optimal to me now. Some units should only have a melee attack, and\n", "loot a ranged weapon after progressing in the game? One thing is for sure\n", "though you can\u2019t have 2 ranged weapons, as that would require the player to\n", "select which one to fire. I want to take a convention over configuration type\n", "of approach for a mobile game. The convention here being that if you are in\n", "melee range you can only do a melee attack. This is also kind of more\n", "realistic. If you were in a close brawl with someone would you leave that and\n", "try to shoot at something far away?  \n", "\n", "I was able to squeeze a couple of hours more out of the day (mostly because my\n", "SO is away on an MBA class reunion in Nashville) to implement the range arc\n", "display for enemies that are equipped with a ranged weapon. I also changed the\n", "sprite they use for a visual distinction between the current 2 types of\n", "enemies.\n", "\n", "![](/img/ittb3.png)\n"]}], "metadata": {"celltoolbar": "Tags", "kernelspec": {"display_name": "Python 3", "language": "python", "name": "python3"}, "language_info": {"codemirror_mode": {"name": "ipython", "version": 3}, "file_extension": ".py", "mimetype": "text/x-python", "name": "python", "nbconvert_exporter": "python", "pygments_lexer": "ipython3", "version": "3.6.13"}}, "nbformat": 4, "nbformat_minor": 4}
        </script>
    </head>
    <body>
        <div id="main">
            <div class="header">
            <div style="position: absolute; left:10px; top:5px;">
              <a href="/blog/about.html">about</a>
              <a href="/micro/micro.html">micro</a>
              <a href="/blogindex.html">macro</a>
            </div>
            <h1>Deniz's Weblog</h1>
            <p style="font-family: monospace;">
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
                <!-- a class="inverted" href="/tag/.html">/</a-->
            </p>
            </div>
            <div id="notebook-holder"></div>
            <hr/>
            <div>
              <em>Generated on 2021-08-22 15:16:15</em>
            </div>
            <p>
              Questions or comments? Please take the time to compose an email and send it to <a href="mailto:deniz.dizman@gmail.com?subject=Question/Comment">me</a>.
              I will update the relevant page with our correspondence.
            </p>
        </div>
        <script>
          var src = document.getElementById("source");
          var notebook = nb.parse(JSON.parse(src.innerText));
          var rendered = notebook.render();
          document.getElementById("notebook-holder").appendChild(rendered);
        </script>
    </body>
</html>
