<html lang="en">
    <head>
      <title>Deniz's personal pages</title>
      <meta charset="utf-8">
      <meta name="viewport" content="initial-scale=1">
      <!--script src="/js/vendor/es5-shim.min.js"></script>
      <script src="/js/vendor/ansi_up.min.js"></script>
      <script src="/js/vendor/prism.min.js"></script>
      <script src="/js/vendor/katex.min.js"></script>
      <script src="/js/vendor/katex-auto-render.min.js"></script>
      <link rel="stylesheet" href="/css/vendor/katex.min.css" />
      <link href="https://fonts.googleapis.com/css?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;0,900;1,300;1,400;1,500;1,700;1,900|Roboto+Mono:300,300i,400,400i,500,500i,700,700i&amp;display=swap" rel="stylesheet"-->
    </head>
    <body>
        <div>
        <a href="/micro/micro-index.html?_=1632183091.6874008">Micro</a> | 
        <a href="/post/index.html?_=1632183091.6874008">Macro</a> | 
        <a href="/post/about.html">About</a>
        </div>
        <hr />
        <div id="main">
        <h1 id="title"> Map and reduce</h1>
        <div id="date"><em> 2017-04-10</em></div>
        <p>Map reduce is a nice algorithm for parallelizing work. Say I want to add the numbers from 1 to 100. (yes I know there is a formula for this). If each addition takes 1 unit of time, I could do this task on my own in a 100 units. But If I call 2 friends over and say</p>
<ul>
<li>Friend A: add the numbers from 1 to 50 and tell me the result.</li>
<li>Friend B: add the numbers from 51 to 100 and tell me the result.</li>
</ul>
<p>Since the 2 operations are mutually exclusive my friends could do this in parallel and tell me the results. Then I would just need to add the 2 results to get my answer. That would take <code>50 + 2</code> units of time, almost twice as faster as doing it on my own. If I have 4 friends it would take me <code>25 + 4 = 29</code> time units. But if I called over 100 friends each one would give me back to number I gave them and I would have to add 100 numbers after the map operation to reduce the result. So there is an optimal point for the number of mappers to take. This point is the square root of the number of operations. Although I would guess the optimal solution formula is intuitive to most people, it can be shown with simple calculus. If you write the number of steps required as the function of the number of parallel operations, and take the 1st derivative and find the solution for zero, this will be the optimal point.</p>
<p>The function can be written like this:
for a number of operations X I need N people doing parallel work. After that I will need N steps to get to the final result.
This is can be written as</p>
<p><code>f(n) = X/n + n</code></p>
<p>lets take the 1st derivative</p>
<p><code>f(x) = X*n^-1 + n</code></p>
<p><code>f'(x) = -X*n^2 + C</code></p>
<p>if we say that this is equal to 0, then we can see that the equation is a quadratic equation with the optimal value being the square root of some value.</p>
<p>This was just a random thought that popped up in my head today.</p>

        </div>
    </body>
</html>
